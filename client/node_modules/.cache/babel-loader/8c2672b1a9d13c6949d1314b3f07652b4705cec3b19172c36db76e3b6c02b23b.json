{"ast":null,"code":"import _objectSpread from\"/home/noel/WebstormProjects/TaskManager/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/features/taskSlice.ts\nimport{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import{getTasks,createTask as createTaskApi,updateTask as updateTaskApi,deleteTask as deleteTaskApi,toggleTask as toggleTaskApi}from'../services/taskService';// Assuming these functions use fetch or another non-axios method\n//import { enqueueSnackbar } from 'notistack';  // Consider how to handle notifications without direct UI dependencies here\nconst initialState={items:[],isLoading:false,error:null};export const fetchTasks=createAsyncThunk('tasks/fetchAll',async(_,_ref)=>{let{rejectWithValue}=_ref;try{const tasks=await getTasks();return tasks;}catch(error){return rejectWithValue(error.message||\"Failed to fetch tasks.\");}});export const createTask=createAsyncThunk('tasks/create',async(taskData,_ref2)=>{let{rejectWithValue}=_ref2;try{const newTask=await createTaskApi(taskData);return newTask;}catch(error){return rejectWithValue(error.message||\"Failed to create task.\");}});export const updateTask=createAsyncThunk('tasks/update',async(task,_ref3)=>{let{rejectWithValue}=_ref3;try{const updatedTask=await updateTaskApi(task);return updatedTask;}catch(error){return rejectWithValue(error.message||\"Failed to update task.\");}});export const deleteTask=createAsyncThunk('tasks/delete',async(taskId,_ref4)=>{let{rejectWithValue}=_ref4;try{await deleteTaskApi(taskId);return taskId;}catch(error){return rejectWithValue(error.message||\"Failed to delete task.\");}});export const toggleTask=createAsyncThunk('tasks/toggle',async(taskId,_ref5)=>{let{rejectWithValue}=_ref5;try{await toggleTaskApi(taskId);return taskId;}catch(error){return rejectWithValue(error.message||\"Failed to toggle task.\");}});const taskSlice=createSlice({name:'tasks',initialState,reducers:{// You can add any synchronous reducers here if needed\n},extraReducers:builder=>{builder.addCase(fetchTasks.pending,state=>{state.isLoading=true;state.error=null;}).addCase(fetchTasks.fulfilled,(state,action)=>{state.isLoading=false;state.items=action.payload;}).addCase(fetchTasks.rejected,(state,action)=>{state.isLoading=false;state.error=action.payload||action.error.message||\"Failed to fetch tasks.\";}).addCase(createTask.pending,state=>{state.isLoading=true;state.error=null;}).addCase(createTask.fulfilled,(state,action)=>{state.isLoading=false;state.items.push(action.payload);}).addCase(createTask.rejected,(state,action)=>{state.isLoading=false;state.error=action.payload||action.error.message||\"Failed to create task.\";}).addCase(updateTask.pending,state=>{state.isLoading=true;state.error=null;}).addCase(updateTask.fulfilled,(state,action)=>{state.isLoading=false;state.items=state.items.map(task=>task.id===action.payload.id?action.payload:task);}).addCase(updateTask.rejected,(state,action)=>{state.isLoading=false;state.error=action.payload||action.error.message||\"Failed to update task.\";}).addCase(deleteTask.pending,state=>{state.isLoading=true;state.error=null;}).addCase(deleteTask.fulfilled,(state,action)=>{state.isLoading=false;state.items=state.items.filter(task=>task.id!==action.payload);}).addCase(deleteTask.rejected,(state,action)=>{state.isLoading=false;state.error=action.payload||action.error.message||\"Failed to delete task.\";}).addCase(toggleTask.pending,state=>{state.isLoading=true;state.error=null;}).addCase(toggleTask.fulfilled,(state,action)=>{state.isLoading=false;state.items=state.items.map(task=>task.id===action.payload?_objectSpread(_objectSpread({},task),{},{completed:!task.completed}):task);}).addCase(toggleTask.rejected,(state,action)=>{state.isLoading=false;state.error=action.payload||action.error.message||\"Failed to toggle task.\";});}});export default taskSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","getTasks","createTask","createTaskApi","updateTask","updateTaskApi","deleteTask","deleteTaskApi","toggleTask","toggleTaskApi","initialState","items","isLoading","error","fetchTasks","_","_ref","rejectWithValue","tasks","message","taskData","_ref2","newTask","task","_ref3","updatedTask","taskId","_ref4","_ref5","taskSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","push","map","id","filter","_objectSpread","completed","reducer"],"sources":["/home/noel/WebstormProjects/TaskManager/client/src/features/taskSlice.ts"],"sourcesContent":["// src/features/taskSlice.ts\nimport { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport {\n    getTasks,\n    createTask as createTaskApi,\n    updateTask as updateTaskApi,\n    deleteTask as deleteTaskApi,\n    toggleTask as toggleTaskApi\n} from '../services/taskService'; // Assuming these functions use fetch or another non-axios method\nimport { Task } from '../types/task';\n//import { enqueueSnackbar } from 'notistack';  // Consider how to handle notifications without direct UI dependencies here\n\ninterface TaskState {\n    items: Task[];\n    isLoading: boolean;\n    error: string | null;\n}\n\nconst initialState: TaskState = {\n    items: [],\n    isLoading: false,\n    error: null\n};\n\nexport const fetchTasks = createAsyncThunk(\n    'tasks/fetchAll',\n    async (_, { rejectWithValue }) => {\n        try {\n            const tasks = await getTasks();\n            return tasks;\n        } catch (error: any) {\n            return rejectWithValue(error.message || \"Failed to fetch tasks.\");\n        }\n    }\n);\n\nexport const createTask = createAsyncThunk(\n    'tasks/create',\n    async (taskData: Omit<Task, 'id'>, { rejectWithValue }) => {\n        try {\n            const newTask = await createTaskApi(taskData);\n            return newTask;\n        } catch (error: any) {\n            return rejectWithValue(error.message || \"Failed to create task.\");\n        }\n    }\n);\n\nexport const updateTask = createAsyncThunk(\n    'tasks/update',\n    async (task: Task, { rejectWithValue }) => {\n        try {\n            const updatedTask = await updateTaskApi(task);\n            return updatedTask;\n        } catch (error: any) {\n            return rejectWithValue(error.message || \"Failed to update task.\");\n        }\n    }\n);\n\nexport const deleteTask = createAsyncThunk(\n    'tasks/delete',\n    async (taskId: string, { rejectWithValue }) => {\n        try {\n            await deleteTaskApi(taskId);\n            return taskId;\n        } catch (error: any) {\n            return rejectWithValue(error.message || \"Failed to delete task.\");\n        }\n    }\n);\n\nexport const toggleTask = createAsyncThunk(\n    'tasks/toggle',\n    async (taskId: string, { rejectWithValue }) => {\n        try {\n            await toggleTaskApi(taskId);\n            return taskId;\n        } catch (error: any) {\n            return rejectWithValue(error.message || \"Failed to toggle task.\");\n        }\n    }\n);\n\nconst taskSlice = createSlice({\n    name: 'tasks',\n    initialState,\n    reducers: {\n        // You can add any synchronous reducers here if needed\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchTasks.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(fetchTasks.fulfilled, (state, action: PayloadAction<Task[]>) => {\n                state.isLoading = false;\n                state.items = action.payload;\n            })\n            .addCase(fetchTasks.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload as string || action.error.message || \"Failed to fetch tasks.\";\n            })\n            .addCase(createTask.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(createTask.fulfilled, (state, action: PayloadAction<Task>) => {\n                state.isLoading = false;\n                state.items.push(action.payload);\n            })\n            .addCase(createTask.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload as string || action.error.message || \"Failed to create task.\";\n            })\n            .addCase(updateTask.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(updateTask.fulfilled, (state, action: PayloadAction<Task>) => {\n                state.isLoading = false;\n                state.items = state.items.map(task => task.id === action.payload.id ? action.payload : task);\n            })\n            .addCase(updateTask.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload as string || action.error.message || \"Failed to update task.\";\n            })\n            .addCase(deleteTask.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(deleteTask.fulfilled, (state, action: PayloadAction<string>) => {\n                state.isLoading = false;\n                state.items = state.items.filter(task => task.id !== action.payload);\n            })\n            .addCase(deleteTask.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload as string || action.error.message || \"Failed to delete task.\";\n            })\n            .addCase(toggleTask.pending, (state) => {\n                state.isLoading = true;\n                state.error = null;\n            })\n            .addCase(toggleTask.fulfilled, (state, action: PayloadAction<string>) => {\n                state.isLoading = false;\n                state.items = state.items.map(task =>\n                    task.id === action.payload ? { ...task, completed: !task.completed } : task\n                );\n            })\n            .addCase(toggleTask.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.payload as string || action.error.message || \"Failed to toggle task.\";\n            });\n    }\n});\n\nexport default taskSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}