{"ast":null,"code":"var _jsxFileName = \"/home/noel/WebstormProjects/TaskManager/client/src/pages/DashboardPage.tsx\",\n  _s = $RefreshSig$();\n// src/pages/DashboardPage.tsx\nimport React, { useEffect, useState } from 'react';\nimport { useAppSelector, useAppDispatch } from '../store/hooks';\nimport { fetchTasks, createTask, updateTask, deleteTask, toggleTask } from '../features/taskSlice';\nimport { logout } from '../features/authSlice';\nimport { useNavigate } from 'react-router-dom';\nimport { Container, Typography, Button, Box, List, ListItem, ListItemText, Checkbox, IconButton, Paper } from '@mui/material';\nimport { Delete, Edit } from '@mui/icons-material';\nimport AddTaskForm from '../components/AddTaskForm';\nimport EditTaskDialog from '../components/EditTaskDialog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardPage = () => {\n  _s();\n  const dispatch = useAppDispatch();\n  // @ts-ignore\n  const {\n    tasks,\n    isLoading\n  } = useAppSelector(state => state.tasks);\n  const {\n    user\n  } = useAppSelector(state => state.auth);\n  const navigate = useNavigate();\n  const [editingTask, setEditingTask] = useState(null);\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\n  useEffect(() => {\n    dispatch(fetchTasks());\n  }, [dispatch]);\n  const handleLogout = () => {\n    dispatch(logout());\n    navigate('/login');\n  };\n  const handleAddTask = (title, description) => {\n    dispatch(createTask({\n      title,\n      description,\n      completed: false,\n      userId: (user === null || user === void 0 ? void 0 : user.id) || ''\n    }));\n  };\n  const handleEditTask = task => {\n    setEditingTask(task);\n    setIsEditDialogOpen(true);\n  };\n  const handleUpdateTask = (id, title, description) => {\n    if (!editingTask) return;\n    dispatch(updateTask({\n      id,\n      title,\n      description,\n      completed: editingTask.completed,\n      userId: editingTask.userId,\n      createdAt: editingTask.createdAt,\n      updatedAt: new Date().toISOString()\n    }));\n    setIsEditDialogOpen(false);\n  };\n  const handleDeleteTask = id => {\n    if (window.confirm('Are you sure you want to delete this task?')) {\n      dispatch(deleteTask(id));\n    }\n  };\n  const handleToggleTask = id => {\n    dispatch(toggleTask(id));\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      my: 4,\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"error\",\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      children: \"Your Tasks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AddTaskForm, {\n      onAddTask: handleAddTask,\n      isLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), isLoading && tasks.length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n      children: \"Loading tasks...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(List, {\n      component: Paper,\n      children: tasks.map(task => /*#__PURE__*/_jsxDEV(ListItem, {\n        divider: true,\n        children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n          edge: \"start\",\n          checked: task.completed || false,\n          onChange: () => handleToggleTask(task.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: task.title,\n          secondary: task.description,\n          sx: {\n            textDecoration: task.completed ? 'line-through' : 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          edge: \"end\",\n          onClick: () => handleEditTask(task),\n          children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          edge: \"end\",\n          onClick: () => handleDeleteTask(task.id),\n          children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }, this)]\n      }, task.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }, this), editingTask && /*#__PURE__*/_jsxDEV(EditTaskDialog, {\n      open: isEditDialogOpen,\n      task: editingTask,\n      onClose: () => setIsEditDialogOpen(false),\n      onSave: handleUpdateTask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n};\n_s(DashboardPage, \"aUQCCK2MxEFwcgCBiq8lrbt/OjI=\", false, function () {\n  return [useAppDispatch, useAppSelector, useAppSelector, useNavigate];\n});\n_c = DashboardPage;\nexport default DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["React","useEffect","useState","useAppSelector","useAppDispatch","fetchTasks","createTask","updateTask","deleteTask","toggleTask","logout","useNavigate","Container","Typography","Button","Box","List","ListItem","ListItemText","Checkbox","IconButton","Paper","Delete","Edit","AddTaskForm","EditTaskDialog","jsxDEV","_jsxDEV","DashboardPage","_s","dispatch","tasks","isLoading","state","user","auth","navigate","editingTask","setEditingTask","isEditDialogOpen","setIsEditDialogOpen","handleLogout","handleAddTask","title","description","completed","userId","id","handleEditTask","task","handleUpdateTask","createdAt","updatedAt","Date","toISOString","handleDeleteTask","window","confirm","handleToggleTask","maxWidth","children","my","display","justifyContent","alignItems","variant","username","fileName","_jsxFileName","lineNumber","columnNumber","color","onClick","gutterBottom","onAddTask","length","component","map","divider","edge","checked","onChange","primary","secondary","sx","textDecoration","open","onClose","onSave","_c","$RefreshReg$"],"sources":["/home/noel/WebstormProjects/TaskManager/client/src/pages/DashboardPage.tsx"],"sourcesContent":["// src/pages/DashboardPage.tsx\nimport React, { useEffect, useState } from 'react';\nimport { useAppSelector, useAppDispatch } from '../store/hooks';\nimport {\n    fetchTasks,\n    createTask,\n    updateTask,\n    deleteTask,\n    toggleTask\n} from '../features/taskSlice';\nimport { logout } from '../features/authSlice';\nimport { useNavigate } from 'react-router-dom';\nimport {\n    Container,\n    Typography,\n    Button,\n    Box,\n    List,\n    ListItem,\n    ListItemText,\n    Checkbox,\n    IconButton,\n    Paper\n} from '@mui/material';\nimport { Delete, Edit } from '@mui/icons-material';\nimport AddTaskForm from '../components/AddTaskForm';\nimport EditTaskDialog from '../components/EditTaskDialog';\nimport { Task } from '../types/task';\n\nconst DashboardPage: React.FC = () => {\n    const dispatch = useAppDispatch();\n    // @ts-ignore\n    const { tasks, isLoading } = useAppSelector((state) => state.tasks);\n    const { user } = useAppSelector((state) => state.auth);\n    const navigate = useNavigate();\n\n    const [editingTask, setEditingTask] = useState<Task | null>(null);\n    const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\n\n    useEffect(() => {\n        dispatch(fetchTasks());\n    }, [dispatch]);\n\n    const handleLogout = () => {\n        dispatch(logout());\n        navigate('/login');\n    };\n\n    const handleAddTask = (title: string, description: string) => {\n        dispatch(createTask({\n            title,\n            description,\n            completed: false,\n            userId: user?.id || ''\n        }));\n    };\n\n    const handleEditTask = (task: Task) => {\n        setEditingTask(task);\n        setIsEditDialogOpen(true);\n    };\n\n    const handleUpdateTask = (id: string, title: string, description: string) => {\n        if (!editingTask) return;\n\n        dispatch(updateTask({\n            id,\n            title,\n            description,\n            completed: editingTask.completed,\n            userId: editingTask.userId,\n            createdAt: editingTask.createdAt,\n            updatedAt: new Date().toISOString()\n        }));\n        setIsEditDialogOpen(false);\n    };\n\n    const handleDeleteTask = (id: string) => {\n        if (window.confirm('Are you sure you want to delete this task?')) {\n            dispatch(deleteTask(id));\n        }\n    };\n\n    const handleToggleTask = (id: string) => {\n        dispatch(toggleTask(id));\n    };\n\n    return (\n        <Container maxWidth=\"md\">\n            <Box my={4} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                <Typography variant=\"h4\">\n                    Welcome, {user?.username}\n                </Typography>\n                <Button variant=\"outlined\" color=\"error\" onClick={handleLogout}>\n                    Logout\n                </Button>\n            </Box>\n\n            <Typography variant=\"h5\" gutterBottom>\n                Your Tasks\n            </Typography>\n\n            <AddTaskForm onAddTask={handleAddTask} isLoading={isLoading} />\n\n            {isLoading && tasks.length === 0 ? (\n                <Typography>Loading tasks...</Typography>\n            ) : (\n                <List component={Paper}>\n                    {tasks.map((task: Task) => (\n                        <ListItem key={task.id} divider>\n                            <Checkbox\n                                edge=\"start\"\n                                checked={task.completed || false}\n                                onChange={() => handleToggleTask(task.id)}\n                            />\n                            <ListItemText\n                                primary={task.title}\n                                secondary={task.description}\n                                sx={{ textDecoration: task.completed ? 'line-through' : 'none' }}\n                            />\n                            <IconButton edge=\"end\" onClick={() => handleEditTask(task)}>\n                                <Edit />\n                            </IconButton>\n                            <IconButton edge=\"end\" onClick={() => handleDeleteTask(task.id)}>\n                                <Delete />\n                            </IconButton>\n                        </ListItem>\n                    ))}\n                </List>\n            )}\n\n            {editingTask && (\n                <EditTaskDialog\n                    open={isEditDialogOpen}\n                    task={editingTask}\n                    onClose={() => setIsEditDialogOpen(false)}\n                    onSave={handleUpdateTask}\n                />\n            )}\n        </Container>\n    );\n};\n\nexport default DashboardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}